{%extends "layout.html"%}

{%block body%}
    {% for valve in IrrigationValve.valveList %}
        <h1>{{valve.name}}</h1>
        <form method="POST" action="">
            <!--{{ form.hidden_tag }}-->
        <table class="table table-striped table-bordered">
            <tbody>
                <tr>
                    <td>{{ form.valveName.label(class="form-control-label") }} </td>
                    <td>
                        <div class="form-group">

                            {% if form.valveName.errors %}
                                {{ form.valveName(class="form-control form-control-lg is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in valve.valveName.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.valveName(class="form-control form-control-lg", value=valve.name) }}
                            {% endif %}
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Notes</td>
                    <td>
                        <div>
                            {{ form.valveNotes(class="form-control form-control-lg") }}
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>current state</td>
                    <td>{{valve.currentStateOn | trueFalseIndicator()}}</td>
                </tr>
                <tr>
                    <td>on/off</td>
                    <td>
                        <div class="form-group">
                            {{ form.valveOnOff(class="form-control form-control-lg") }}
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>testing</td>
                    <td>
                        <button type="button" class="btn btn-danger">TEST</button>
                    </td>
                </tr>
                <tr>
                    <td>cycle or irrigate</td>
                    <td>
                        <div class="form-group">
                            {{ form.valveCycleIrrigate(class="form-control form-control-lg") }}
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>irrigation times</td>
                    <td>
                        {%if not valve.irrigationTimes%}
                            None
                        {%else%}
                            {%for key, value in valve.irrigationTimes%}
                                time: {{key | strftimeConverter()}}  duration: {{value | HrMinSec()}}
                                <button type="button" class="btn btn-danger">Delete</button>
                            {%endfor%}
                        {%endif%}
                        <br><br>
                        <div class="form-group">
                            <input type="time">
                            <button type="button" class="btn btn-primary">Add</button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>cycle on time</td>
                    <td>
                        {%if not valve.cycleOnTime%}
                            None<br><br>
                            <form>
                                <div>
                                    <label>Hours</label>
                                    <input type="number" name="" min="0" max="24"><br>
                                    <label>Minutes</label>
                                    <input type="number" name="" min="0" max="59"><br>
                                    <label>Seconds</label>
                                    <input type="number" name="" min="0" max="59"><br>
                                    <button type="button" class="btn btn-primary">Add</button>
                                </div>
                            </form>
                        {%else%}
                            {{valve.cycleOnTime | HrMinSec()}}
                            <button type="button" class="btn btn-primary">delete</button>
                        {%endif%}
                        <br><br>
                    </td>
                </tr>
                <tr>
                    <td>cycle off time</td>
                    <td>
                        {%if not valve.cycleOffTime%}
                            None<br><br>
                            <form>
                                <div>
                                    <label>Hours</label>
                                    <input type="number" name="" min="0" max="24"><br>
                                    <label>Minutes</label>
                                    <input type="number" name="" min="0" max="59"><br>
                                    <label>Seconds</label>
                                    <input type="number" name="" min="0" max="59"><br>
                                    <button type="button" class="btn btn-primary">Add</button>
                                </div>
                            </form>
                        {%else%}
                            {{valve.cycleOffTime | HrMinSec()}}
                            <button type="button" class="btn btn-primary">delete</button>
                        {%endif%}
                        <br><br>
                    </td>
                </tr>
                <tr>
                    <td>blackout start</td>
                    <td>
                        {%if not valve.blackoutStart%}
                            None
                            <br><br>
                            <input type="time">
                            <button type="button" class="btn btn-primary">Add</button>
                        {%else%}
                            {{valve.blackoutStart | strftimeConverter()}}
                            <button type="button" class="btn btn-primary">delete</button>
                        {%endif%}
                    </td>
                </tr>
                <tr>
                    <td>blackout stop</td>
                    <td>
                        {%if not valve.blackoutStop%}
                            None
                            <br><br>
                            <input type="time">
                            <button type="button" class="btn btn-primary">Add</button>
                        {%else%}
                            {{valve.blackoutStop | strftimeConverter()}}
                            <button type="button" class="btn btn-primary">delete</button>
                        {%endif%}
                    </td>
                </tr>
                <tr>
                    <td>days</td>
                    <td>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="">
                            <label class="form-check-label">Select All</label>
                        </div>
                        <br>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="">
                            <label class="form-check-label">Monday</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="">
                            <label class="form-check-label">Tuesday</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="">
                            <label class="form-check-label">Wednesday</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="">
                            <label class="form-check-label">Thursday</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="">
                            <label class="form-check-label">Friday</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="">
                            <label class="form-check-label">Saturday</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="">
                            <label class="form-check-label">Sunday</label>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
            <div class="btn btn-success btn-block">
                {{ form.submit() }}
            </div>
        </form>
    {% endfor %}
{%endblock%}
